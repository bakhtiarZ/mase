/workspace/machop/mase_cocotb/runner.py:9: UserWarning: Python runners and associated APIs are an experimental feature and subject to change.
  from cocotb.runner import get_runner, get_results
-Info: Command Line disabled gate optimization with -fno-gate.  This may cause ordering problems.
make: Entering directory '/workspace/machop/mase_components/activations/test/build/fixed_silu/test_0'
ccache g++  -I.  -MMD -I/usr/local/share/verilator/include -I/usr/local/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-overloaded-virtual -Wno-shadow -Wno-sign-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable      -pg  -Os -c -o verilator.o /usr/local/lib/python3.11/dist-packages/cocotb/share/lib/verilator/verilator.cpp
ccache g++ -Os  -I.  -MMD -I/usr/local/share/verilator/include -I/usr/local/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-overloaded-virtual -Wno-shadow -Wno-sign-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable      -pg  -c -o verilated.o /usr/local/share/verilator/include/verilated.cpp
ccache g++ -Os  -I.  -MMD -I/usr/local/share/verilator/include -I/usr/local/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-overloaded-virtual -Wno-shadow -Wno-sign-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable      -pg  -c -o verilated_dpi.o /usr/local/share/verilator/include/verilated_dpi.cpp
ccache g++ -Os  -I.  -MMD -I/usr/local/share/verilator/include -I/usr/local/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-overloaded-virtual -Wno-shadow -Wno-sign-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable      -pg  -c -o verilated_vpi.o /usr/local/share/verilator/include/verilated_vpi.cpp
ccache g++ -Os  -I.  -MMD -I/usr/local/share/verilator/include -I/usr/local/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-overloaded-virtual -Wno-shadow -Wno-sign-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable      -pg  -c -o verilated_vcd_c.o /usr/local/share/verilator/include/verilated_vcd_c.cpp
ccache g++ -Os  -I.  -MMD -I/usr/local/share/verilator/include -I/usr/local/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-overloaded-virtual -Wno-shadow -Wno-sign-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable      -pg  -c -o verilated_threads.o /usr/local/share/verilator/include/verilated_threads.cpp
/usr/bin/python3 /usr/local/share/verilator/bin/verilator_includer -DVL_INCLUDE_OPT=include Vtop.cpp Vtop___024root__DepSet_h84412442__0.cpp Vtop___024root__DepSet_heccd7ead__0.cpp Vtop_fixed_silu__DepSet_ha60c17c6__0.cpp Vtop__Dpi.cpp Vtop__Trace__0.cpp Vtop__ConstPool_0.cpp Vtop___024root__Slow.cpp Vtop___024root__DepSet_h84412442__0__Slow.cpp Vtop___024root__DepSet_heccd7ead__0__Slow.cpp Vtop_fixed_silu__Slow.cpp Vtop_fixed_silu__DepSet_ha60c17c6__0__Slow.cpp Vtop__Syms.cpp Vtop__Trace__0__Slow.cpp Vtop__TraceDecls__0__Slow.cpp > Vtop__ALL.cpp
ccache g++ -Os  -I.  -MMD -I/usr/local/share/verilator/include -I/usr/local/share/verilator/include/vltstd -DVM_COVERAGE=0 -DVM_SC=0 -DVM_TRACE=1 -DVM_TRACE_FST=0 -DVM_TRACE_VCD=1 -faligned-new -fcf-protection=none -Wno-bool-operation -Wno-overloaded-virtual -Wno-shadow -Wno-sign-compare -Wno-uninitialized -Wno-unused-but-set-parameter -Wno-unused-but-set-variable -Wno-unused-parameter -Wno-unused-variable      -pg  -c -o Vtop__ALL.o Vtop__ALL.cpp
echo "" > Vtop__ALL.verilator_deplist.tmp
Archive ar -rcs Vtop__ALL.a Vtop__ALL.o
g++     -pg verilator.o verilated.o verilated_dpi.o verilated_vpi.o verilated_vcd_c.o verilated_threads.o Vtop__ALL.a   -Wl,-rpath,/usr/local/lib/python3.11/dist-packages/cocotb/libs -L/usr/local/lib/python3.11/dist-packages/cocotb/libs -lcocotbvpi_verilator  -pthread -lpthread -latomic   -o fixed_silu
rm Vtop__ALL.verilator_deplist.tmp
make: Leaving directory '/workspace/machop/mase_components/activations/test/build/fixed_silu/test_0'
     -.--ns INFO     gpi                                ..mbed/gpi_embed.cpp:76   in set_program_name_in_venv        Did not detect Python virtual environment. Using system-wide Python interpreter
     -.--ns INFO     gpi                                ../gpi/GpiCommon.cpp:101  in gpi_print_registered_impl       VPI registered
     0.00ns INFO     cocotb                             Running on Verilator version 5.020 2024-01-01
     0.00ns INFO     cocotb                             Running tests with cocotb v1.8.0 from /usr/local/lib/python3.11/dist-packages/cocotb
     0.00ns INFO     cocotb                             Seeding Python random module with 1709401206
/usr/local/lib/python3.11/dist-packages/_pytest/assertion/rewrite.py:178: DeprecationWarning: 'pipes' is deprecated and slated for removal in Python 3.13
  exec(co, module.__dict__)
/usr/local/lib/python3.11/dist-packages/timm/models/helpers.py:7: DeprecationWarning: Importing from timm.models.helpers is deprecated, please import via timm.models
  warnings.warn(f"Importing from {__name__} is deprecated, please import via timm.models", DeprecationWarning)
/usr/local/lib/python3.11/dist-packages/timm/models/layers/__init__.py:49: DeprecationWarning: Importing from timm.models.layers is deprecated, please import via timm.layers
  warnings.warn(f"Importing from {__name__} is deprecated, please import via timm.layers", DeprecationWarning)
/usr/local/lib/python3.11/dist-packages/_pytest/assertion/rewrite.py:178: DeprecationWarning: module 'sre_constants' is deprecated
  exec(co, module.__dict__)
/usr/local/lib/python3.11/dist-packages/_pytest/assertion/rewrite.py:178: UserWarning: Python runners and associated APIs are an experimental feature and subject to change.
  exec(co, module.__dict__)
     0.00ns INFO     cocotb.regression                  Found test fixed_silu_tb.test
     0.00ns INFO     cocotb.regression                  running test (1/1)
    40.00ns INFO     testbench                          Reset finished
    40.00ns INFO     testbench                          int inputs: tensor([-15,  34,  -5,   7,   5, -15, -14,  26,  12,  -8]), bin inputs: ['11110001', '00100010', '11111011', '00000111', '00000101', '11110001', '11110010', '00011010', '00001100', '11111000'], real_inputs: tensor([-0.9375,  2.1250, -0.3125,  0.4375,  0.3125, -0.9375, -0.8750,  1.6250,
                                                                 0.7500, -0.5000])
/workspace/machop/mase_components/activations/test/fixed_silu_tb.py:70: UserWarning: To copy construct from a tensor, it is recommended to use sourceTensor.clone().detach() or sourceTensor.clone().detach().requires_grad_(True), rather than torch.tensor(sourceTensor).
  m2 = torch.where(m2 < 0, torch.tensor(m2 % (2**self.outputwidth)), m2)
    40.00ns INFO     testbench                          out of silu and quantizer: tensor([-0.2500,  1.8750, -0.1250,  0.2500,  0.1875, -0.2500, -0.2500,  1.3750,
                                                                 0.5000, -0.1875]), int version tensor([252,  30, 254,   4,   3, 252, 252,  22,   8, 253])
    80.00ns INFO     cocotb.monitor.StreamMonitor       Observed output beat [252, 30, 254, 4, 3, 252, 252, 22, 8, 253]
 10040.00ns INFO     cocotb.regression                  test passed
 10040.00ns INFO     cocotb.regression                  **************************************************************************************
                                                        ** TEST                          STATUS  SIM TIME (ns)  REAL TIME (s)  RATIO (ns/s) **
                                                        **************************************************************************************
                                                        ** fixed_silu_tb.test             PASS       10040.00           0.07     144893.44  **
                                                        **************************************************************************************
                                                        ** TESTS=1 PASS=1 FAIL=0 SKIP=0              10040.00           9.28       1082.36  **
                                                        **************************************************************************************
                                                        
/usr/lib/python3.11/tempfile.py:1034: ResourceWarning: Implicitly cleaning up <TemporaryDirectory '/tmp/tmpjvfxx4y5'>
  _warnings.warn(warn_message, ResourceWarning)
- :0: Verilog $finish
/workspace/machop/mase_components/activations/test/build/fixed_silu
##########################################
#### TEST 0 : {'DATA_IN_0_TENSOR_SIZE_DIM_0': 10, 'DATA_IN_0_TENSOR_SIZE_DIM_1': 1, 'DATA_IN_0_PARALLELISM_DIM_0': 10, 'DATA_IN_0_PARALLELISM_DIM_1': 1, 'DATA_IN_0_PRECISION_0': 8, 'DATA_IN_0_PRECISION_1': 4, 'DATA_OUT_0_PRECISION_0': 8, 'DATA_OUT_0_PRECISION_1': 4, 'DATA_OUT_0_TENSOR_SIZE_DIM_0': 10, 'DATA_OUT_0_TENSOR_SIZE_DIM_1': 1, 'DATA_OUT_0_PARALLELISM_DIM_0': 10, 'DATA_OUT_0_PARALLELISM_DIM_1': 1}
##########################################
INFO: Running command perl /usr/local/bin/verilator -cc --exe -Mdir /workspace/machop/mase_components/activations/test/build/fixed_silu/test_0 -DCOCOTB_SIM=1 --top-module fixed_silu --vpi --public-flat-rw --prefix Vtop -o fixed_silu -LDFLAGS '-Wl,-rpath,/usr/local/lib/python3.11/dist-packages/cocotb/libs -L/usr/local/lib/python3.11/dist-packages/cocotb/libs -lcocotbvpi_verilator' -Wno-GENUNNAMED -Wno-WIDTHEXPAND -Wno-WIDTHTRUNC -Wno-UNOPTFLAT -prof-c --stats --trace -O0 -build-jobs 8 -Wno-fatal -Wno-lint -Wno-style -I/workspace/machop/mase_components/common/rtl -I/workspace/machop/mase_components/cast/rtl -GDATA_IN_0_TENSOR_SIZE_DIM_0=10 -GDATA_IN_0_TENSOR_SIZE_DIM_1=1 -GDATA_IN_0_PARALLELISM_DIM_0=10 -GDATA_IN_0_PARALLELISM_DIM_1=1 -GDATA_IN_0_PRECISION_0=8 -GDATA_IN_0_PRECISION_1=4 -GDATA_OUT_0_PRECISION_0=8 -GDATA_OUT_0_PRECISION_1=4 -GDATA_OUT_0_TENSOR_SIZE_DIM_0=10 -GDATA_OUT_0_TENSOR_SIZE_DIM_1=1 -GDATA_OUT_0_PARALLELISM_DIM_0=10 -GDATA_OUT_0_PARALLELISM_DIM_1=1 /usr/local/lib/python3.11/dist-packages/cocotb/share/lib/verilator/verilator.cpp /workspace/machop/mase_components/activations/rtl/fixed_silu.sv in directory /workspace/machop/mase_components/activations/test/build/fixed_silu/test_0
INFO: Running command make -C /workspace/machop/mase_components/activations/test/build/fixed_silu/test_0 -f Vtop.mk in directory /workspace/machop/mase_components/activations/test/build/fixed_silu/test_0
INFO: Running command /workspace/machop/mase_components/activations/test/build/fixed_silu/test_0/fixed_silu in directory /workspace/machop/mase_components/activations/test/build/fixed_silu/test_0
INFO: Results file: /workspace/machop/mase_components/activations/test/build/fixed_silu/test_0/results.xml
TEST RESULTS
    PASSED: 1
    FAILED: 0
    NUM TESTS: 1
